"use strict";(self.webpackChunkkarunjosyin=self.webpackChunkkarunjosyin||[]).push([[5690],{3361:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>r,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var t=a(4848),c=a(8453);const o={},i=void 0,s={id:"Explained/RGW/RGW Command cheatsheet",title:"RGW Command cheatsheet",description:"RGW Command cheatsheet",source:"@site/docs/Explained/RGW/RGW Command cheatsheet.md",sourceDirName:"Explained/RGW",slug:"/Explained/RGW/RGW Command cheatsheet",permalink:"/docs/Explained/RGW/RGW Command cheatsheet",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"cephExplainedSidebar",previous:{title:"RGW Data Layout",permalink:"/docs/Explained/RGW/RGW Data Layout"},next:{title:"RGW Object lookup path",permalink:"/docs/Explained/RGW/RGW Object lookup path"}},r={},d=[{value:"RGW Command cheatsheet",id:"rgw-command-cheatsheet",level:2}];function l(n){const e={code:"code",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,c.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{id:"rgw-command-cheatsheet",children:"RGW Command cheatsheet"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"To list the bucket contents using radosgw-admin command:"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"# radosgw-admin bucket radoslist --bucket  kjbucket\n1847c1d2-a429-4a01-a65b-30eac3893e1e.115075.1_anaconda-ks.cfg\n1847c1d2-a429-4a01-a65b-30eac3893e1e.115075.1_default.realm\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"BI list"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'# radosgw-admin bi list --bucket kjbucket\n[\n    {\n        "type": "plain",\n        "idx": "anaconda-ks.cfg",\n        "entry": {\n            "name": "anaconda-ks.cfg",\n            "instance": "",\n            "ver": {\n                "pool": 37,\n                "epoch": 4\n            },\n            "locator": "",\n            "exists": true,\n            "meta": {\n                "category": 1,\n                "size": 694,\n                "mtime": "2025-03-21T10:43:25.608079Z",\n                "etag": "4ecd12e7bb388fdba701229b1f2cda17",\n                "storage_class": "STANDARD",\n                "owner": "kj",\n                "owner_display_name": "kj",\n                "content_type": "text/plain",\n                "accounted_size": 694,\n                "user_data": "",\n                "appendable": false\n            },\n            "tag": "1847c1d2-a429-4a01-a65b-30eac3893e1e.245100.16686463904820867720",\n            "flags": 0,\n            "pending_map": [],\n            "versioned_epoch": 0\n        }\n    },\n    {\n        "type": "plain",\n        "idx": "default.realm",\n        "entry": {\n            "name": "default.realm",\n            "instance": "",\n            "ver": {\n                "pool": 37,\n                "epoch": 5\n            },\n            "locator": "",\n            "exists": true,\n            "meta": {\n                "category": 1,\n                "size": 46,\n                "mtime": "2025-03-21T10:43:53.700165Z",\n                "etag": "3affad698c9b19cae526966e5a0c6c33",\n                "storage_class": "STANDARD",\n                "owner": "kj",\n                "owner_display_name": "kj",\n                "content_type": "application/octet-stream",\n                "accounted_size": 46,\n                "user_data": "",\n                "appendable": false\n            },\n            "tag": "1847c1d2-a429-4a01-a65b-30eac3893e1e.245100.5942870464582921876",\n            "flags": 0,\n            "pending_map": [],\n            "versioned_epoch": 0\n        }\n    }\n]\n'})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"get the object manifest of the object."}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'# radosgw-admin object manifest --bucket kjbucket --object anaconda-ks.cfg\n{\n    "size": 694,\n    "objects": [\n        {\n            "index": 0,\n            "part_id": 0,\n            "stripe_id": 0,\n            "offset": 0,\n            "size": 694,\n            "raw_obj": {\n                "pool": "kerala.rgw.buckets.data",\n                "oid": "1847c1d2-a429-4a01-a65b-30eac3893e1e.115075.1_anaconda-ks.cfg",\n                "loc": ""\n            }\n        }\n    ]\n}\n'})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Get object stat"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'# radosgw-admin object stat --bucket kjbucket --object 10mb_object\n{\n    "name": "10mb_object",\n    "size": 10485760,\n    "policy": {\n        "acl": {\n            "acl_user_map": [\n                {\n                    "user": "kj",\n                    "acl": 15\n                }\n            ],\n            "acl_group_map": [],\n            "grant_map": [\n                {\n                    "id": "kj",\n                    "grant": {\n                        "type": {\n                            "type": 0\n                        },\n                        "id": "kj",\n                        "name": "kj",\n                        "permission": {\n                            "flags": 15\n                        }\n                    }\n                }\n            ]\n        },\n        "owner": {\n            "id": "kj",\n            "display_name": "kj"\n        }\n    },\n    "etag": "f1c9645dbc14efddc7d8a322685f26eb",\n    "tag": "1847c1d2-a429-4a01-a65b-30eac3893e1e.245100.6787769343957597863",\n    "manifest": {\n        "objs": [],\n        "obj_size": 10485760,\n        "explicit_objs": false,\n        "head_size": 4194304,\n        "max_head_size": 4194304,\n        "prefix": ".3RXYVnUwzlNxZ4byiE66Pgb0593fydH_",\n        "rules": [\n            {\n                "key": 0,\n                "val": {\n                    "start_part_num": 0,\n                    "start_ofs": 4194304,\n                    "part_size": 0,\n                    "stripe_max_size": 4194304,\n                    "override_prefix": ""\n                }\n            }\n        ],\n        "tail_instance": "",\n        "tail_placement": {\n            "bucket": {\n                "name": "kjbucket",\n                "marker": "1847c1d2-a429-4a01-a65b-30eac3893e1e.115075.1",\n                "bucket_id": "1847c1d2-a429-4a01-a65b-30eac3893e1e.115075.1",\n                "tenant": "",\n                "explicit_placement": {\n                    "data_pool": "",\n                    "data_extra_pool": "",\n                    "index_pool": ""\n                }\n            },\n            "placement_rule": "default-placement"\n        },\n        "tier_type": "",\n        "begin_iter": {\n            "part_ofs": 0,\n            "stripe_ofs": 0,\n            "ofs": 0,\n            "stripe_size": 4194304,\n            "cur_part_id": 0,\n            "cur_stripe": 0,\n            "cur_override_prefix": "",\n            "location": {\n                "placement_rule": "default-placement",\n                "obj": {\n                    "bucket": {\n                        "name": "kjbucket",\n                        "marker": "1847c1d2-a429-4a01-a65b-30eac3893e1e.115075.1",\n                        "bucket_id": "1847c1d2-a429-4a01-a65b-30eac3893e1e.115075.1",\n                        "tenant": "",\n                        "explicit_placement": {\n                            "data_pool": "",\n                            "data_extra_pool": "",\n                            "index_pool": ""\n                        }\n                    },\n                    "key": {\n                        "name": "10mb_object",\n                        "instance": "",\n                        "ns": ""\n                    }\n                },\n                "raw_obj": {\n                    "pool": "",\n                    "oid": "",\n                    "loc": ""\n                },\n                "is_raw": false\n            }\n        },\n        "end_iter": {\n            "part_ofs": 4194304,\n            "stripe_ofs": 8388608,\n            "ofs": 10485760,\n            "stripe_size": 2097152,\n            "cur_part_id": 0,\n            "cur_stripe": 2,\n            "cur_override_prefix": "",\n            "location": {\n                "placement_rule": "default-placement",\n                "obj": {\n                    "bucket": {\n                        "name": "kjbucket",\n                        "marker": "1847c1d2-a429-4a01-a65b-30eac3893e1e.115075.1",\n                        "bucket_id": "1847c1d2-a429-4a01-a65b-30eac3893e1e.115075.1",\n                        "tenant": "",\n                        "explicit_placement": {\n                            "data_pool": "",\n                            "data_extra_pool": "",\n                            "index_pool": ""\n                        }\n                    },\n                    "key": {\n                        "name": ".3RXYVnUwzlNxZ4byiE66Pgb0593fydH_2",\n                        "instance": "",\n                        "ns": "shadow"\n                    }\n                },\n                "raw_obj": {\n                    "pool": "",\n                    "oid": "",\n                    "loc": ""\n                },\n                "is_raw": false\n            }\n        }\n    },\n    "pg_ver": 11,\n    "source_zone": 2767882313,\n    "attrs": {\n        "user.rgw.content_type": "application/octet-stream",\n        "user.rgw.tail_tag": "1847c1d2-a429-4a01-a65b-30eac3893e1e.245100.6787769343957597863",\n        "user.rgw.x-amz-meta-s3cmd-attrs": "atime:1742564965/ctime:1742564965/gid:0/gname:root/md5:f1c9645dbc14efddc7d8a322685f26eb/mode:33188/mtime:1742564965/uid:0/uname:root"\n    }\n}\n'})})]})}function p(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(l,{...n})}):l(n)}},8453:(n,e,a)=>{a.d(e,{R:()=>i,x:()=>s});var t=a(6540);const c={},o=t.createContext(c);function i(n){const e=t.useContext(o);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:i(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);