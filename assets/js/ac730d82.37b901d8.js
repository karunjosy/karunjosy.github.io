"use strict";(self.webpackChunkkarunjosyin=self.webpackChunkkarunjosyin||[]).push([[5115],{474:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>a,toc:()=>h});var s=t(4848),i=t(8453);const o={sidebar_position:3},r=void 0,a={id:"CephBox/CephBox - DIY setup/Intro",title:"Intro",description:"This section of the website provides you step by step process of",source:"@site/docs/CephBox/CephBox - DIY setup/Intro.md",sourceDirName:"CephBox/CephBox - DIY setup",slug:"/CephBox/CephBox - DIY setup/Intro",permalink:"/docs/CephBox/CephBox - DIY setup/Intro",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"DIY Setup",permalink:"/docs/category/DIY"},next:{title:"Setting up Raspberry Pi OS",permalink:"/docs/CephBox/CephBox - DIY setup/Setting up Raspberry Pi OS"}},l={},h=[{value:"My Setup",id:"my-setup",level:3}];function d(e){const n={a:"a",code:"code",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"This section of the website provides you step by step process of"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Setting up Ceph cluster in Raspberry Pi machine"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Setting up Ente Photos and integrating with Ceph RGW S3 endpoint to manage your photos from mobile and desktop"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Setting up Nextcloud and integrating with Ceph RGW S3 endpoint to manage you traditional files and data"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Linux, if you think about it, is one  of the most complex engineering software system in the world. And we have thousands of Linux admins to manage linux environments. However, we have billions of people using Android phone which uses linux, every minute of their life without knowing what happens in the background. In regards to the installation and management of CephBox, our philosophy is the same."}),"\n",(0,s.jsx)(n.p,{children:"Ceph is a complex distributed storage system. But the end user doesn't need to know that!"}),"\n",(0,s.jsxs)(n.p,{children:["Our vision for ",(0,s.jsx)(n.code,{children:"CephBox"})," is for it to operate like a ",(0,s.jsx)(n.code,{children:"storage appliance"}),": you purchase the hardware, plug it in, power it up, do the very minimal configuration and start using it immediately. While we\u2019re still working towards that vision, that's a long way to go...\nIn the meantime, if anyone wants to give a try, be it may on a single Raspberry Pi or on actual servers, follow this doc.\n(We are in the process of automating the installation of different components as much as possible ",(0,s.jsx)(n.a,{href:"https://karunjosy.github.io/docs/CephBox/CephBox%20-%20DIY%20setup/Automatic%20Setup",children:"here"}),".)"]}),"\n",(0,s.jsx)(n.p,{children:"You can setup everything on a single raspberry pi or server. But... that defeats the purpose of a highly available and resiliant distributed storage system such as Ceph."}),"\n",(0,s.jsx)(n.p,{children:"As a general rule of thumb:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Single node with 2 disks"})," --\x3e You are casually testing the setup and don't intend to store any actual data."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Two node with 2 disks each"})," --\x3e You get the real feel of a distributed storage system. If you know to hack around Ceph, this would almost do in most cases."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Three node with 2 disks each"})," --\x3e You have decided to take the leap of faith and store your precious data in-house. Mean time to data loss (MTTDL) due to disk failures would be in decades.."]}),"\n",(0,s.jsx)("img",{src:"/img/perfection.jpeg",alt:"Sample Image",width:"300",height:"200"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"my-setup",children:"My Setup"}),"\n",(0,s.jsx)(n.p,{children:"I am currently using a 2 node setup with 2 disks each."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Hardware:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Raspberry Pi 5 - 2 Nos"}),"\n",(0,s.jsx)(n.li,{children:"512 GB NVMe card - 4 Nos"}),"\n",(0,s.jsx)(n.li,{children:"64 GB Micro SD card - 2 Nos for Operating System"}),"\n",(0,s.jsx)(n.li,{children:"PCIe To 2-ch M.2 Adapter HAT   - 2 Nos"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Architecture"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Ceph Cluster on 2 nodes"}),"\n",(0,s.jsx)(n.li,{children:"Ente photo app server on 1 node"}),"\n",(0,s.jsx)(n.li,{children:"Nextcloud server on the other node"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Approximate cost of the setup"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"My setup is a bit overdone of course. (The universally accepted moto of any DIY project is : if it's worth doing, it's worth overdoing.) You can reduce it considerably, for example by replacing NVMe cards with SSDs."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Raspberry Pi 5 - 7900 * 2 = 15800"}),"\n",(0,s.jsx)(n.li,{children:"NVMe card - 2200 * 4 = 8800"}),"\n",(0,s.jsx)(n.li,{children:"64 GB Micro SD card - 540 * 2 = 1080"}),"\n",(0,s.jsx)(n.li,{children:"PCI-e to 2 CH HAT -  1600 * 2 = 3200"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The steps in the following sections are slightly aligned to the 2 node setup that I am having. We have tried to generalize it as much as we can, but keep this in your mind to avoid confusions."}),"\n",(0,s.jsxs)(n.p,{children:["Okay, let's start.. Click on the ",(0,s.jsx)(n.strong,{children:"Next"})," page button below \u2b07\ufe0f"]})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var s=t(6540);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);